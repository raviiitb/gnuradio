<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GNU Radio 3.6.1git-182-gab9a06f0 C++ API: atsci_equalizer_lms Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio 3.6.1git-182-gab9a06f0 C++ API
   
   </div>
   
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classatsci__equalizer__lms.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">atsci_equalizer_lms Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="atsci_equalizer_lms" --><!-- doxytag: inherits="atsci_equalizer" -->
<p><code>#include &lt;<a class="el" href="atsci__equalizer__lms_8h_source.html">atsci_equalizer_lms.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for atsci_equalizer_lms:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classatsci__equalizer__lms.png" usemap="#atsci_equalizer_lms_map" alt=""/>
  <map id="atsci_equalizer_lms_map" name="atsci_equalizer_lms_map">
<area href="classatsci__equalizer.html" title="abstract base class for ATSC equalizer" alt="atsci_equalizer" shape="rect" coords="0,0,121,24"/>
</map>
 </div></div>

<p><a href="classatsci__equalizer__lms-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#a3f8c96e777f330523325486b8d9f63d5">atsci_equalizer_lms</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#ab960684994bb8124d0ba3b0f69daa05b">~atsci_equalizer_lms</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#ada8cd96d000ac03af7b53276651bfab7">reset</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">reset state (e.g., on channel change)  <a href="#ada8cd96d000ac03af7b53276651bfab7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21">ntaps</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">how much history the input data stream requires.  <a href="#a175be27cd2a7066c00ef70e73a4d8a21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#a22680b8926f2ce6bd5c5fb38e25de25b">npretaps</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">how many taps are "in the future".  <a href="#a22680b8926f2ce6bd5c5fb38e25de25b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#af29b102348176dc728260eb52d4954d4">filter_normal</a> (const float *input_samples, float *output_samples, int nsamples)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#a4d8b1c86277efdb78890150b564b71ef">filter_data_seg_sync</a> (const float *input_samples, float *output_samples, int nsamples, int offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#a16f3f405c5eee8cd233d87e6ee67748b">filter_field_sync</a> (const float *input_samples, float *output_samples, int nsamples, int offset, int which_field)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatsci__equalizer__lms.html#a38d81eba656d2fb0677ca05a148e3c80">trainingfile</a></td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3f8c96e777f330523325486b8d9f63d5"></a><!-- doxytag: member="atsci_equalizer_lms::atsci_equalizer_lms" ref="a3f8c96e777f330523325486b8d9f63d5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classatsci__equalizer__lms.html#a3f8c96e777f330523325486b8d9f63d5">atsci_equalizer_lms::atsci_equalizer_lms</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab960684994bb8124d0ba3b0f69daa05b"></a><!-- doxytag: member="atsci_equalizer_lms::~atsci_equalizer_lms" ref="ab960684994bb8124d0ba3b0f69daa05b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classatsci__equalizer__lms.html#ab960684994bb8124d0ba3b0f69daa05b">atsci_equalizer_lms::~atsci_equalizer_lms</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4d8b1c86277efdb78890150b564b71ef"></a><!-- doxytag: member="atsci_equalizer_lms::filter_data_seg_sync" ref="a4d8b1c86277efdb78890150b564b71ef" args="(const float *input_samples, float *output_samples, int nsamples, int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a> <a class="el" href="classatsci__equalizer__lms.html#a4d8b1c86277efdb78890150b564b71ef">atsci_equalizer_lms::filter_data_seg_sync</a> </td>
          <td>(</td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Input range is known to consist of only a data segment sync or a portion of a data segment sync. <code>nsamples</code> will be in [1,4]. <code>offset</code> will be in [0,3]. <code>offset</code> is the offset of the input from the beginning of the data segment sync pattern.</p>
<p><code>input_samples</code> has (nsamples + <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21" title="how much history the input data stream requires.">ntaps()</a> - 1) valid entries. input_samples[0] .. input_samples[nsamples - 1 + <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21" title="how much history the input data stream requires.">ntaps()</a> - 1] may be referenced to compute the output values. </p>

<p>Implements <a class="el" href="classatsci__equalizer.html#a1826a36e71cd5b23b37212a382363a59">atsci_equalizer</a>.</p>

</div>
</div>
<a class="anchor" id="a16f3f405c5eee8cd233d87e6ee67748b"></a><!-- doxytag: member="atsci_equalizer_lms::filter_field_sync" ref="a16f3f405c5eee8cd233d87e6ee67748b" args="(const float *input_samples, float *output_samples, int nsamples, int offset, int which_field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a> <a class="el" href="classatsci__equalizer__lms.html#a16f3f405c5eee8cd233d87e6ee67748b">atsci_equalizer_lms::filter_field_sync</a> </td>
          <td>(</td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>which_field</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Input range is known to consist of only a field sync segment or a portion of a field sync segment. <code>nsamples</code> will be in [1,832]. <code>offset</code> will be in [0,831]. <code>offset</code> is the offset of the input from the beginning of the data segment sync pattern. We consider the 4 symbols of the immediately preceding data segment sync to be the first symbols of the field sync segment. <code>which_field</code> is in [0,1] and specifies which field (duh).</p>
<p><code>input_samples</code> has (nsamples + <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21" title="how much history the input data stream requires.">ntaps()</a> - 1) valid entries. input_samples[0] .. input_samples[nsamples - 1 + <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21" title="how much history the input data stream requires.">ntaps()</a> - 1] may be referenced to compute the output values. </p>

<p>Implements <a class="el" href="classatsci__equalizer.html#a4731ead6a02b3ebba75f3e0b70eefe55">atsci_equalizer</a>.</p>

</div>
</div>
<a class="anchor" id="af29b102348176dc728260eb52d4954d4"></a><!-- doxytag: member="atsci_equalizer_lms::filter_normal" ref="af29b102348176dc728260eb52d4954d4" args="(const float *input_samples, float *output_samples, int nsamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a> <a class="el" href="classatsci__equalizer__lms.html#af29b102348176dc728260eb52d4954d4">atsci_equalizer_lms::filter_normal</a> </td>
          <td>(</td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Input range is known NOT TO CONTAIN data segment syncs or field syncs. This should be the fast path. In the non decicion directed case, this just runs the input through the filter without adapting it.</p>
<p><code>input_samples</code> has (nsamples + <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21" title="how much history the input data stream requires.">ntaps()</a> - 1) valid entries. input_samples[0] .. input_samples[nsamples - 1 + <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21" title="how much history the input data stream requires.">ntaps()</a> - 1] may be referenced to compute the output values. </p>

<p>Implements <a class="el" href="classatsci__equalizer.html#af41b4d5184df08f6df672752d1d3c9d3">atsci_equalizer</a>.</p>

</div>
</div>
<a class="anchor" id="a22680b8926f2ce6bd5c5fb38e25de25b"></a><!-- doxytag: member="atsci_equalizer_lms::npretaps" ref="a22680b8926f2ce6bd5c5fb38e25de25b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="classatsci__equalizer__lms.html#a22680b8926f2ce6bd5c5fb38e25de25b">atsci_equalizer_lms::npretaps</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>how many taps are "in the future". </p>
<p>This allows us to handle what the ATSC folks call "pre-ghosts". What it really does is allow the caller to jack with the offset between the tags and the data so that everything magically works out.</p>
<p>npretaps () must return a value between 0 and <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21" title="how much history the input data stream requires.">ntaps()</a> - 1.</p>
<p>If npretaps () returns 0, this means that the equalizer will only handle multipath "in the past." I suspect that a good value would be something like 15% - 20% of ntaps (). </p>

<p>Implements <a class="el" href="classatsci__equalizer.html#a3d1ec7e9d8d647af683be66334658b9a">atsci_equalizer</a>.</p>

</div>
</div>
<a class="anchor" id="a175be27cd2a7066c00ef70e73a4d8a21"></a><!-- doxytag: member="atsci_equalizer_lms::ntaps" ref="a175be27cd2a7066c00ef70e73a4d8a21" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="classatsci__equalizer__lms.html#a175be27cd2a7066c00ef70e73a4d8a21">atsci_equalizer_lms::ntaps</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>how much history the input data stream requires. </p>
<p>This must return a value &gt;= 1. Think of this as the number of samples you need to look at to compute a single output sample. </p>

<p>Implements <a class="el" href="classatsci__equalizer.html#a8db8cff0e3739aa59911eeb059913d9b">atsci_equalizer</a>.</p>

</div>
</div>
<a class="anchor" id="ada8cd96d000ac03af7b53276651bfab7"></a><!-- doxytag: member="atsci_equalizer_lms::reset" ref="ada8cd96d000ac03af7b53276651bfab7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a> <a class="el" href="classatsci__equalizer__lms.html#ada8cd96d000ac03af7b53276651bfab7">atsci_equalizer_lms::reset</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reset state (e.g., on channel change) </p>
<p>Note, subclasses must invoke the superclass's method too! </p>

<p>Reimplemented from <a class="el" href="classatsci__equalizer.html#ae1f4fea799066b5a030bf9cedd9f9141">atsci_equalizer</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a38d81eba656d2fb0677ca05a148e3c80"></a><!-- doxytag: member="atsci_equalizer_lms::trainingfile" ref="a38d81eba656d2fb0677ca05a148e3c80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* <a class="el" href="classatsci__equalizer__lms.html#a38d81eba656d2fb0677ca05a148e3c80">atsci_equalizer_lms::trainingfile</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="atsci__equalizer__lms_8h_source.html">atsci_equalizer_lms.h</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classatsci__equalizer__lms.html">atsci_equalizer_lms</a>      </li>

    <li class="footer">Generated on Tue Jun 5 2012 16:56:55 for GNU Radio 3.6.1git-182-gab9a06f0 C++ API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
