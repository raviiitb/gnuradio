<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GNU Radio 3.6.1git-182-gab9a06f0 C++ API: digital_constellation_receiver_cb Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio 3.6.1git-182-gab9a06f0 C++ API
   
   </div>
   
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classdigital__constellation__receiver__cb.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">digital_constellation_receiver_cb Class Reference<div class="ingroups"><a class="el" href="group__sync__blk.html">Synchronization</a> &#124; <a class="el" href="group__digital.html">Digital Modulation Blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="digital_constellation_receiver_cb" --><!-- doxytag: inherits="gr_block,gri_control_loop" -->
<p>This block takes care of receiving generic modulated signals through phase, frequency, and symbol synchronization.This block takes care of receiving generic modulated signals through phase, frequency, and symbol synchronization. It performs carrier frequency and phase locking as well as symbol timing recovery.  
 <a href="classdigital__constellation__receiver__cb.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="digital__constellation__receiver__cb_8h_source.html">digital_constellation_receiver_cb.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for digital_constellation_receiver_cb:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdigital__constellation__receiver__cb.png" usemap="#digital_constellation_receiver_cb_map" alt=""/>
  <map id="digital_constellation_receiver_cb_map" name="digital_constellation_receiver_cb_map">
<area href="classgr__block.html" title="The abstract base class for all &#39;terminal&#39; processing blocks.A signal processing flow is constructed ..." alt="gr_block" shape="rect" coords="0,168,198,192"/>
<area href="classgri__control__loop.html" alt="gri_control_loop" shape="rect" coords="208,168,406,192"/>
<area href="classgr__basic__block.html" title="The abstract base class for all signal processing blocks.Basic blocks are the bare abstraction of an ..." alt="gr_basic_block" shape="rect" coords="0,112,198,136"/>
<area href="classgr__msg__accepter.html" title="Accepts messages and inserts them into a message queue, then notifies subclass gr_basic_block there i..." alt="gr_msg_accepter" shape="rect" coords="0,56,198,80"/>
<area href="classgruel_1_1msg__accepter.html" title="Virtual base class that accepts messages." alt="gruel::msg_accepter" shape="rect" coords="0,0,198,24"/>
</map>
 </div></div>

<p><a href="classdigital__constellation__receiver__cb-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigital__constellation__receiver__cb.html#a8243ab960b918764374270ef798173f0">general_work</a> (int noutput_items, <a class="el" href="gr__types_8h.html#ab02d0a829d67d39e3ac3163016d3a8be">gr_vector_int</a> &amp;ninput_items, <a class="el" href="gr__types_8h.html#a9852a3d906d823cb70eb9c29e7f2a43d">gr_vector_const_void_star</a> &amp;input_items, <a class="el" href="gr__types_8h.html#acd3f499576e769966ea44554b359d949">gr_vector_void_star</a> &amp;output_items)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">compute output items from input items  <a href="#a8243ab960b918764374270ef798173f0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigital__constellation__receiver__cb.html#a9abc9ee651b5dc5263ff5fd66a5e13b8">digital_constellation_receiver_cb</a> (<a class="el" href="classboost_1_1shared__ptr.html">digital_constellation_sptr</a> constellation, float loop_bw, float fmin, float fmax)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor to synchronize incoming M-PSK symbols.  <a href="#a9abc9ee651b5dc5263ff5fd66a5e13b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigital__constellation__receiver__cb.html#a6209a7fcfe993273b9cd1eea28e84929">phase_error_tracking</a> (float phase_error)</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="digital__api_8h.html#ae14969f36ec69051c4b2f13a0db7e9ba">DIGITAL_API</a> <br class="typebreak"/>
<a class="el" href="classboost_1_1shared__ptr.html">digital_constellation_receiver_cb_sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigital__constellation__receiver__cb.html#a1e95698688ce7d95f489834e14f570fe">digital_make_constellation_receiver_cb</a> (<a class="el" href="classboost_1_1shared__ptr.html">digital_constellation_sptr</a> constell, float loop_bw, float fmin, float fmax)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This block takes care of receiving generic modulated signals through phase, frequency, and symbol synchronization.</p>
<p>This block takes care of receiving generic modulated signals through phase, frequency, and symbol synchronization. It performs carrier frequency and phase locking as well as symbol timing recovery. </p>
<p>The phase and frequency synchronization are based on a Costas loop that finds the error of the incoming signal point compared to its nearest constellation point. The frequency and phase of the NCO are updated according to this error.</p>
<p>The symbol synchronization is done using a modified Mueller and Muller circuit from the paper:</p>
<p>"G. R. Danesfahani, T.G. Jeans, "Optimisation of modified Mueller and Muller algorithm," Electronics Letters, Vol. 31, no. 13, 22
 June 1995, pp. 1032 - 1033."</p>
<p>This circuit interpolates the downconverted sample (using the NCO developed by the Costas loop) every mu samples, then it finds the sampling error based on this and the past symbols and the decision made on the samples. Like the phase error detector, there are optimized decision algorithms for BPSK and QPKS, but 8PSK uses another brute force computation against all possible symbols. The modifications to the M&amp;M used here reduce self-noise. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9abc9ee651b5dc5263ff5fd66a5e13b8"></a><!-- doxytag: member="digital_constellation_receiver_cb::digital_constellation_receiver_cb" ref="a9abc9ee651b5dc5263ff5fd66a5e13b8" args="(digital_constellation_sptr constellation, float loop_bw, float fmin, float fmax)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdigital__constellation__receiver__cb.html#a9abc9ee651b5dc5263ff5fd66a5e13b8">digital_constellation_receiver_cb::digital_constellation_receiver_cb</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classboost_1_1shared__ptr.html">digital_constellation_sptr</a>&#160;</td>
          <td class="paramname"><em>constellation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>loop_bw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor to synchronize incoming M-PSK symbols. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">constellation</td><td>constellation of points for generic modulation </td></tr>
    <tr><td class="paramname">loop_bw</td><td>Loop bandwidth of the Costas Loop (~ 2pi/100) </td></tr>
    <tr><td class="paramname">fmin</td><td>minimum normalized frequency value the loop can achieve </td></tr>
    <tr><td class="paramname">fmax</td><td>maximum normalized frequency value the loop can achieve</td></tr>
  </table>
  </dd>
</dl>
<p>The constructor also chooses which phase detector and decision maker to use in the work loop based on the value of M. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8243ab960b918764374270ef798173f0"></a><!-- doxytag: member="digital_constellation_receiver_cb::general_work" ref="a8243ab960b918764374270ef798173f0" args="(int noutput_items, gr_vector_int &amp;ninput_items, gr_vector_const_void_star &amp;input_items, gr_vector_void_star &amp;output_items)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classdigital__constellation__receiver__cb.html#a8243ab960b918764374270ef798173f0">digital_constellation_receiver_cb::general_work</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>noutput_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gr__types_8h.html#ab02d0a829d67d39e3ac3163016d3a8be">gr_vector_int</a> &amp;&#160;</td>
          <td class="paramname"><em>ninput_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gr__types_8h.html#a9852a3d906d823cb70eb9c29e7f2a43d">gr_vector_const_void_star</a> &amp;&#160;</td>
          <td class="paramname"><em>input_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gr__types_8h.html#acd3f499576e769966ea44554b359d949">gr_vector_void_star</a> &amp;&#160;</td>
          <td class="paramname"><em>output_items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>compute output items from input items </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">noutput_items</td><td>number of output items to write on each output stream </td></tr>
    <tr><td class="paramname">ninput_items</td><td>number of input items available on each input stream </td></tr>
    <tr><td class="paramname">input_items</td><td>vector of pointers to the input items, one entry per input stream </td></tr>
    <tr><td class="paramname">output_items</td><td>vector of pointers to the output items, one entry per output stream</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of items actually written to each output stream, or -1 on EOF. It is OK to return a value less than noutput_items. -1 &lt;= return value &lt;= noutput_items</dd></dl>
<p>general_work must call consume or consume_each to indicate how many items were consumed on each input stream. </p>

<p>Implements <a class="el" href="classgr__block.html#a137b93d87dc83bbdb6369d33f4ea8197">gr_block</a>.</p>

</div>
</div>
<a class="anchor" id="a6209a7fcfe993273b9cd1eea28e84929"></a><!-- doxytag: member="digital_constellation_receiver_cb::phase_error_tracking" ref="a6209a7fcfe993273b9cd1eea28e84929" args="(float phase_error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="volk_8tmpl_8h.html#a8dc2b7da310a28e667530ba0e8ca4cc4">void</a> <a class="el" href="classdigital__constellation__receiver__cb.html#a6209a7fcfe993273b9cd1eea28e84929">digital_constellation_receiver_cb::phase_error_tracking</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>phase_error</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a1e95698688ce7d95f489834e14f570fe"></a><!-- doxytag: member="digital_constellation_receiver_cb::digital_make_constellation_receiver_cb" ref="a1e95698688ce7d95f489834e14f570fe" args="(digital_constellation_sptr constell, float loop_bw, float fmin, float fmax)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="digital__api_8h.html#ae14969f36ec69051c4b2f13a0db7e9ba">DIGITAL_API</a> <a class="el" href="classboost_1_1shared__ptr.html">digital_constellation_receiver_cb_sptr</a> <a class="el" href="classdigital__constellation__receiver__cb.html#a1e95698688ce7d95f489834e14f570fe">digital_make_constellation_receiver_cb</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classboost_1_1shared__ptr.html">digital_constellation_sptr</a>&#160;</td>
          <td class="paramname"><em>constell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>loop_bw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="digital__constellation__receiver__cb_8h_source.html">digital_constellation_receiver_cb.h</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classdigital__constellation__receiver__cb.html">digital_constellation_receiver_cb</a>      </li>

    <li class="footer">Generated on Tue Jun 5 2012 16:56:55 for GNU Radio 3.6.1git-182-gab9a06f0 C++ API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
